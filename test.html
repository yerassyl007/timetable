<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harvard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Base styles */
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        .container {
          max-width: 100%;
          padding: 20px;
          overflow-x: auto;
        }

        /* Timetable sections */
        .timetable-section {
          margin-bottom: 20px;
          position: relative;
        }

        .section-label {
          font-weight: bold;
          margin-bottom: 10px;
        }

        /* Table styles */
        table {
          width: 100%;
          border-collapse: collapse;
          table-layout: fixed;
        }

        th, td {
          border: 1px solid #ddd;
          padding: 8px;
          text-align: left;
        }

        th {
          background-color: #f2f2f2;
        }

        /* Responsive styles */
        @media screen and (max-width: 768px) {
          .container {
            padding: 10px;
          }

          .timetable-section {
            margin-bottom: 30px;
          }

          .section-label {
            position: static;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.2em;
          }

          table {
            font-size: 0.9em;
          }

          th, td {
            padding: 6px;
          }
        }

        /* Color adjustments */
        .unt-label {
          color: #00853E; /* Darker green */
        }

        .nu-label {
          color: #8B0000; /* Darker red */
        }

        /* Animation */
        .animate__animated {
          animation-duration: 1s;
        }

        .animate__fadeIn {
          animation-name: fadeIn;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="current-info animate__animated animate__fadeIn" id="currentInfo">
            Loading...
        </div>
        <div class="timetable-section unt-section">
            <div class="section-label unt-label">UNT Classes</div>
        </div>
        <div class="timetable-section nu-section">
            <div class="section-label nu-label">NU Senior</div>
        </div>
        <table class="timetable">
            <tr>
                <th>Time</th>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
            </tr>
        </table>

        <script>
            const periods = [
                ["9:00", "9:50", "UNT"],
                ["9:55", "10:45", "UNT"],
                ["10:55", "11:45", "UNT"],
                ["12:00", "12:50", "UNT"],
                ["12:50", "13:05", "LUNCH-1"],
                ["13:05", "13:55", "UNT"],
                ["13:55", "14:10", "LUNCH-2"],
                ["14:10", "15:00", "NU"],
                ["15:05", "15:55", "NU"],
                ["16:05", "16:55", "NU"]
            ];

            const schedule = [
                [
                    { subject: "Psychology", teacher: "Sholpan apay", room: "313" },
                    { subject: "History", teacher: "Mukhamedzhan Nurgaliev", room: "313" },
                    { subject: "Russian language", teacher: "Saule apay", room: "313" },
                    { subject: "Math", teacher: "Daulet agay", room: "313" },
                    { subject: "LUNCH TIME - 1"},
                    { subject: "Math extra", teacher: "Bekzat agay", room: "313" },
                    { subject: "LUNCH TIME - 2"},
                    { subject: "Digital SAT - Math", teacher: "Adilet Amzebek", room: "301" },
                    { subject: "Digital SAT - Verbal", teacher: "Temirlan Zhubatyr", room: "301" },
                    { subject: "NUET - CT&PS", teacher: "Damir Moldabay", room: "301" }
                ],
                [
                    { subject: "Geo extra", teacher: "Ayana apay", room: "313" },
                    { subject: "Geography", teacher: "Nurken agay", room: "313" },
                    { subject: "Mentor", teacher: "Serik Inabat", room: "313" },
                    { subject: "Geography", teacher: "Nurken agay", room: "313" },
                    { subject: "LUNCH TIME - 1"},
                    { subject: "History", teacher: "Mukhamedzhan Nurgaliev", room: "313" },
                    { subject: "LUNCH TIME - 2"},
                    { subject: "NUET - Math", teacher: "Adilet Amzebek", room: "301" },
                    { subject: "Digital SAT - Verbal", teacher: "Temirlan Zhubatyr", room: "301" },
                    { subject: "NUET - CT&PS", teacher: "Damir Moldabay", room: "301" }
                ],
                [
                    { subject: "Mentor", teacher: "Serik Inabat", room: "313" },
                    { subject: "Mentor", teacher: "Serik Inabat", room: "313" },
                    { subject: "Math", teacher: "Daulet agay", room: "313" },
                    { subject: "History", teacher: "Mukhamedzhan Nurgaliev", room: "313" },
                    { subject: "LUNCH TIME - 1"},
                    { subject: "Verbal", teacher: "Erlan Nurlanov", room: "313" },
                    { subject: "LUNCH TIME - 2"},
                    { subject: "Digital SAT - Math", teacher: "Adilet Amzebek", room: "301" },
                    { subject: "Digital SAT - Verbal", teacher: "Temirlan Zhubatyr", room: "301" },
                    { subject: "NUET - CT&PS", teacher: "Damir Moldabay", room: "301" }
                ],
                [
                    { subject: "General English", teacher: "Marzhan apay", room: "313" },
                    { subject: "Geography", teacher: "Nurken agay", room: "313" },
                    { subject: "Geography", teacher: "Nurken agay", room: "313" },
                    { subject: "Math", teacher: "Daulet agay", room: "313" },
                    { subject: "LUNCH TIME - 1"},
                    { subject: "Math extra", teacher: "Bekzat agay", room: "313" },
                    { subject: "LUNCH TIME - 2"},
                    { subject: "NUET - Math", teacher: "Adilet Amzebek", room: "301" },
                    { subject: "NUET - Math", teacher: "Adilet Amzebek", room: "301" },
                    { subject: "Digital SAT - Verbal", teacher: "Temirlan Zhubatyr", room: "301" }
                ],
                [
                    { subject: "Geography", teacher: "Nurken agay", room: "313" },
                    { subject: "Mentor", teacher: "Serik Inabat", room: "313"},
                    { subject: "General English", teacher: "Marzhan apay", room: "313"},
                    { subject: "Geo extra", teacher: "Ayana apay", room: "313" },
                    { subject: "LUNCH TIME - 1"},
                    { subject: "Math", teacher: "Daulet agay", room: "313" },
                    { subject: "LUNCH TIME - 2"},
                    { subject: "Digital SAT - Verbal", teacher: "Temirlan Zhubatyr", room: "301" },
                    { subject: "NUET - CT&PS", teacher: "Damir Moldabay", room: "301" },
                    { subject: "NUET - CT&PS", teacher: "Damir Moldabay", room: "301" }
                ]
            ];

            function createTimetable() {
                const table = document.querySelector('.timetable');
                let subjectCounter = 0; // Counter for subject numbering

                periods.forEach((period, index) => {
                    const row = document.createElement('tr');
                    const timeCell = document.createElement('td');
                    timeCell.className = 'time-column';
                    timeCell.textContent = `${period[0]} - ${period[1]}`;
                    row.appendChild(timeCell);

                    for (let i = 0; i < 5; i++) {
                        const cell = document.createElement('td');
                        if (period[2] === 'LUNCH-1' || period[2] === 'LUNCH-2') {
                            cell.className = 'lunch';
                            cell.textContent = period[2] === 'LUNCH-1 ' ? 'LUNCH TIME - 1' : 'LUNCH TIME - 2';
                        } else {
                            cell.className = `subject ${period[2].toLowerCase()}`;
                            cell.textContent = schedule[i][index].subject; // Each subject gets a unique name
                            cell.setAttribute('data-teacher', schedule[i][index].teacher);
                            cell.setAttribute('data-classroom', schedule[i][index].room);

                            const tooltip = document.createElement('div');
                            tooltip.className = 'tooltip';
                            cell.appendChild(tooltip);

                            cell.addEventListener('mouseenter', (e) => {
                                const tooltip = e.target.querySelector('.tooltip');
                                tooltip.textContent = `Teacher: ${e.target.dataset.teacher} | Room: ${e.target.dataset.classroom}`;
                                tooltip.style.display = 'block';
                            });

                            cell.addEventListener('mouseleave', (e) => {
                                const tooltip = e.target.querySelector('.tooltip');
                                tooltip.style.display = 'none';
                            });
                        }
                        row.appendChild(cell);
                    }
                    table.appendChild(row);
                });
            }

            function updateCurrentPeriod() {
                const now = new Date();
                const day = now.getDay();
                const time = now.getHours() * 60 + now.getMinutes();

                // Reset all past day styling
                document.querySelectorAll('.timetable td').forEach(cell => {
                    cell.classList.remove('past-day');
                });

                if (day >= 1 && day <= 5) {
                    // Apply past days styling
                    const cells = document.querySelectorAll('.timetable tr');
                    cells.forEach(row => {
                        const dayCells = row.querySelectorAll('td');
                        for (let i = 1; i < day; i++) {
                            if (dayCells[i]) {
                                dayCells[i].classList.add('past-day');
                            }
                        }
                    });

                    let currentPeriod = null;
                    periods.forEach((period, index) => {
                        const [startTime, endTime] = period;
                        const [startHour, startMin] = startTime.split(':').map(Number);
                        const [endHour, endMin] = endTime.split(':').map(Number);
                        const periodStart = startHour * 60 + startMin;
                        const periodEnd = endHour * 60 + endMin;

                        if (time >= periodStart && time <= periodEnd) {
                            currentPeriod = period;
                            const cells = document.querySelectorAll('.timetable tr');
                            const currentCell = cells[index + 1].querySelectorAll('td')[day];
                            if (currentCell) {
                                currentCell.classList.add('current');
                            }
                        }
                    });

                    const infoDiv = document.getElementById('currentInfo');
                    if (currentPeriod) {
                        if (currentPeriod[2].includes('LUNCH')) {
                            infoDiv.textContent = "It's lunch time!";
                        } else {
                            infoDiv.textContent = "Current period: " + currentPeriod[0] + " - " + currentPeriod[1];
                        }
                    } else {
                        infoDiv.textContent = "No active period";
                    }
                }
            }

            createTimetable();
            updateCurrentPeriod();
            setInterval(updateCurrentPeriod, 60000);
        </script>
    </body>
</html>
